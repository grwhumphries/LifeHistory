size <- log(x$count[fI])
return(c(colgrowth,size,as.character(sname)))
}
}
output<-data.frame(output)
names(output)<-c("growth","size","site")
output$growth<-as.double(as.character(output$growth))
output$size<-as.double(as.character(output$size))
G<-ggplot(data=output,aes(x=size,y=growth)) +
geom_point(colour='blue')+
geom_smooth(linetype='dotted',method='lm')
ggsave(fname,plot=G)
}
foreach(sname = siteList) %do% {
x <- A %>% filter(site == sname)
cat(sname,'\n')
fname = paste(sname,".jpg",sep="")
output <- foreach(j = x$season, .combine='rbind') %do% {
fI <- which(x$season == j)[1]
pairrow <- x[which(x$season == j-1),]
prindex <- pairrow[1,]
if(nrow(pairrow)>0){
colgrowth <- log(prindex$count/x$count[fI])
size <- log(x$count[fI])
return(c(colgrowth,size,as.character(sname)))
}
}
output<-data.frame(output)
names(output)<-c("growth","size","site")
output$growth<-as.double(as.character(output$growth))
output$size<-as.double(as.character(output$size))
G<-ggplot(data=output,aes(x=size,y=growth)) +
geom_point(colour='blue')+
geom_smooth(linetype='dotted',method='lm')
ggsave(fname,plot=G)
}
foreach(sname = siteList) %do% {
x <- A %>% filter(site == sname)
cat(as.character(sname),'\n')
fname = paste(sname,".jpg",sep="")
output <- foreach(j = x$season, .combine='rbind') %do% {
fI <- which(x$season == j)[1]
pairrow <- x[which(x$season == j-1),]
prindex <- pairrow[1,]
if(nrow(pairrow)>0){
colgrowth <- log(prindex$count/x$count[fI])
size <- log(x$count[fI])
return(c(colgrowth,size,as.character(sname)))
}
}
output<-data.frame(output)
names(output)<-c("growth","size","site")
output$growth<-as.double(as.character(output$growth))
output$size<-as.double(as.character(output$size))
G<-ggplot(data=output,aes(x=size,y=growth)) +
geom_point(colour='blue')+
geom_smooth(linetype='dotted',method='lm')
ggsave(fname,plot=G)
}
siteList
citation()
library(dplyr)
library(ggplot2)
library(foreach)
library(extrafont)
setwd("C:/Users/Grant/Dropbox/Transfer/")
A <- tbl_df(read.csv("AdelieBestTimeSeriesNests.csv"))
siteList <- unique(A$site)
df<-foreach(sname = siteList) %do% {
x <- A %>% filter(site == sname)
cat(as.character(sname),'\n')
fname = paste(sname,".jpg",sep="")
output <- foreach(j = x$season, .combine='rbind') %do% {
fI <- which(x$season == j)[1]
pairrow <- x[which(x$season == j-1),]
prindex <- pairrow[1,]
if(nrow(pairrow)>0){
colgrowth <- log(prindex$count/x$count[fI])
size <- log(x$count[fI])
return(c(colgrowth,size,as.character(sname)))
}
}
return(output)
}
df<-data.frame(df)
names(df)<-c("growth","size","site")
df$growth<-as.double(as.character(df$growth))
df$size<-as.double(as.character(df$size))
G<-ggplot(data=output,aes(x=size,y=growth)) +
geom_point(aes(colour=site))+
geom_smooth(aes(colour=site),method='lm')+
theme(axis.line.x=element_line(color="black",size=1),
axis.line.y=element_line(color="black",size=1),
axis.ticks=element_line(),
panel.grid.minor=element_blank(),
panel.background=element_blank(),
axis.title = element_text(size=10,family="Century Gothic"),
axis.text.y = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.text.x = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.title.x = element_text(size=14,vjust=-0.5),
axis.title.y = element_text(size=14,vjust=0.8),
title = element_text(color="black",size=12),
legend.text = element_text(size=12,family="Century Gothic"),
legend.title = element_text(size=12,family="Century Gothic"))
df
View(df)
df<-foreach(sname = siteList,.combine='rbind') %do% {
x <- A %>% filter(site == sname)
cat(as.character(sname),'\n')
fname = paste(sname,".jpg",sep="")
output <- foreach(j = x$season, .combine='rbind') %do% {
fI <- which(x$season == j)[1]
pairrow <- x[which(x$season == j-1),]
prindex <- pairrow[1,]
if(nrow(pairrow)>0){
colgrowth <- log(prindex$count/x$count[fI])
size <- log(x$count[fI])
return(c(colgrowth,size,as.character(sname)))
}
}
return(output)
}
df<-data.frame(df)
names(df)<-c("growth","size","site")
df$growth<-as.double(as.character(df$growth))
df$size<-as.double(as.character(df$size))
G<-ggplot(data=output,aes(x=size,y=growth)) +
geom_point(aes(colour=site))+
geom_smooth(aes(colour=site),method='lm')+
theme(axis.line.x=element_line(color="black",size=1),
axis.line.y=element_line(color="black",size=1),
axis.ticks=element_line(),
panel.grid.minor=element_blank(),
panel.background=element_blank(),
axis.title = element_text(size=10,family="Century Gothic"),
axis.text.y = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.text.x = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.title.x = element_text(size=14,vjust=-0.5),
axis.title.y = element_text(size=14,vjust=0.8),
title = element_text(color="black",size=12),
legend.text = element_text(size=12,family="Century Gothic"),
legend.title = element_text(size=12,family="Century Gothic"))
G<-ggplot(data=df,aes(x=size,y=growth)) +
geom_point(aes(colour=site))+
geom_smooth(aes(colour=site),method='lm')+
theme(axis.line.x=element_line(color="black",size=1),
axis.line.y=element_line(color="black",size=1),
axis.ticks=element_line(),
panel.grid.minor=element_blank(),
panel.background=element_blank(),
axis.title = element_text(size=10,family="Century Gothic"),
axis.text.y = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.text.x = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.title.x = element_text(size=14,vjust=-0.5),
axis.title.y = element_text(size=14,vjust=0.8),
title = element_text(color="black",size=12),
legend.text = element_text(size=12,family="Century Gothic"),
legend.title = element_text(size=12,family="Century Gothic"))
G
#####################################################
###### Colony growth rates versus colony size #######
#####################################################
library(dplyr)
library(ggplot2)
library(foreach)
library(extrafont)
setwd("C:/Users/Grant/Dropbox/Transfer/")
A <- tbl_df(read.csv("AdelieBestTimeSeriesNests.csv"))
siteList <- unique(A$site)
df<-foreach(sname = siteList,.combine='rbind') %do% {
x <- A %>% filter(site == sname)
cat(as.character(sname),'\n')
fname = paste(sname,".jpg",sep="")
output <- foreach(j = x$season, .combine='rbind') %do% {
fI <- which(x$season == j)[1]
pairrow <- x[which(x$season == j-1),]
prindex <- pairrow[1,]
if(nrow(pairrow)>0){
colgrowth <- log(prindex$count/x$count[fI])
size <- log(x$count[fI])
return(c(colgrowth,size,as.character(sname)))
}
}
return(output)
}
df<-data.frame(df)
names(df)<-c("growth","size","site")
df$growth<-as.double(as.character(df$growth))
df$size<-as.double(as.character(df$size))
G<-ggplot(data=df,aes(x=size,y=growth)) +
geom_point(aes(colour=site))+
geom_smooth(aes(colour=site),method='lm')+
theme(axis.line.x=element_line(color="black",size=1),
axis.line.y=element_line(color="black",size=1),
axis.ticks=element_line(),
panel.grid.minor=element_blank(),
panel.background=element_blank(),
axis.title = element_text(size=10,family="Century Gothic"),
axis.text.y = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.text.x = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.title.x = element_text(size=14,vjust=-0.5),
axis.title.y = element_text(size=14,vjust=0.8),
title = element_text(color="black",size=12),
legend.text = element_text(size=8,family="Century Gothic"),
legend.title = element_text(size=12,family="Century Gothic"))
G
#ggsave(fname,plot=G)
G<-ggplot(data=df,aes(x=size,y=growth)) +
geom_point(aes(colour=Site))+
geom_smooth(aes(colour=Site),method='lm')+
labs(x="log(Colony Size)",y="log(Colony Growth)")+
theme(axis.line.x=element_line(color="black",size=1),
axis.line.y=element_line(color="black",size=1),
axis.ticks=element_line(),
panel.grid.minor=element_blank(),
panel.background=element_blank(),
axis.title = element_text(size=10,family="Century Gothic"),
axis.text.y = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.text.x = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.title.x = element_text(size=14,vjust=-0.5),
axis.title.y = element_text(size=14,vjust=0.8),
title = element_text(color="black",size=12),
legend.text = element_text(size=8,family="Century Gothic"),
legend.title = element_text(size=12,family="Century Gothic"))
G
df<-data.frame(df)
names(df)<-c("growth","size","Site")
df$growth<-as.double(as.character(df$growth))
df$size<-as.double(as.character(df$size))
G<-ggplot(data=df,aes(x=size,y=growth)) +
geom_point(aes(colour=Site))+
geom_smooth(aes(colour=Site),method='lm')+
labs(x="log(Colony Size)",y="log(Colony Growth)")+
theme(axis.line.x=element_line(color="black",size=1),
axis.line.y=element_line(color="black",size=1),
axis.ticks=element_line(),
panel.grid.minor=element_blank(),
panel.background=element_blank(),
axis.title = element_text(size=10,family="Century Gothic"),
axis.text.y = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.text.x = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.title.x = element_text(size=14,vjust=-0.5),
axis.title.y = element_text(size=14,vjust=0.8),
title = element_text(color="black",size=12),
legend.text = element_text(size=8,family="Century Gothic"),
legend.title = element_text(size=12,family="Century Gothic"))
G
G<-ggplot(data=df,aes(x=size,y=growth)) +
geom_point(aes(colour=Site))+
geom_smooth(aes(colour=Site),alpha=0.3,method='lm')+
labs(x="log(Colony Size)",y="log(Colony Growth)")+
theme(axis.line.x=element_line(color="black",size=1),
axis.line.y=element_line(color="black",size=1),
axis.ticks=element_line(),
panel.grid.minor=element_blank(),
panel.background=element_blank(),
axis.title = element_text(size=10,family="Century Gothic"),
axis.text.y = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.text.x = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.title.x = element_text(size=14,vjust=-0.5),
axis.title.y = element_text(size=14,vjust=0.8),
title = element_text(color="black",size=12),
legend.text = element_text(size=8,family="Century Gothic"),
legend.title = element_text(size=12,family="Century Gothic"))
G
G<-ggplot(data=df,aes(x=size,y=growth)) +
geom_point(aes(colour=Site))+
geom_smooth(aes(colour=Site,alpha=0.3),method='lm')+
labs(x="log(Colony Size)",y="log(Colony Growth)")+
theme(axis.line.x=element_line(color="black",size=1),
axis.line.y=element_line(color="black",size=1),
axis.ticks=element_line(),
panel.grid.minor=element_blank(),
panel.background=element_blank(),
axis.title = element_text(size=10,family="Century Gothic"),
axis.text.y = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.text.x = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.title.x = element_text(size=14,vjust=-0.5),
axis.title.y = element_text(size=14,vjust=0.8),
title = element_text(color="black",size=12),
legend.text = element_text(size=8,family="Century Gothic"),
legend.title = element_text(size=12,family="Century Gothic"))
G
G<-ggplot(data=df,aes(x=size,y=growth)) +
geom_point(aes(colour=Site))+
geom_smooth(aes(colour=Site,alpha=0.8),method='lm')+
labs(x="log(Colony Size)",y="log(Colony Growth)")+
theme(axis.line.x=element_line(color="black",size=1),
axis.line.y=element_line(color="black",size=1),
axis.ticks=element_line(),
panel.grid.minor=element_blank(),
panel.background=element_blank(),
axis.title = element_text(size=10,family="Century Gothic"),
axis.text.y = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.text.x = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.title.x = element_text(size=14,vjust=-0.5),
axis.title.y = element_text(size=14,vjust=0.8),
title = element_text(color="black",size=12),
legend.text = element_text(size=8,family="Century Gothic"),
legend.title = element_text(size=12,family="Century Gothic"))
G
G<-ggplot(data=df,aes(x=size,y=growth)) +
geom_point(aes(colour=Site))+
geom_smooth(aes(colour=Site,alpha=0),method='lm')+
labs(x="log(Colony Size)",y="log(Colony Growth)")+
theme(axis.line.x=element_line(color="black",size=1),
axis.line.y=element_line(color="black",size=1),
axis.ticks=element_line(),
panel.grid.minor=element_blank(),
panel.background=element_blank(),
axis.title = element_text(size=10,family="Century Gothic"),
axis.text.y = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.text.x = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.title.x = element_text(size=14,vjust=-0.5),
axis.title.y = element_text(size=14,vjust=0.8),
title = element_text(color="black",size=12),
legend.text = element_text(size=8,family="Century Gothic"),
legend.title = element_text(size=12,family="Century Gothic"))
G
G<-ggplot(data=df,aes(x=size,y=growth)) +
geom_point(aes(colour=Site))+
geom_smooth(aes(colour=Site),alpha=0,method='lm')+
labs(x="log(Colony Size)",y="log(Colony Growth)")+
theme(axis.line.x=element_line(color="black",size=1),
axis.line.y=element_line(color="black",size=1),
axis.ticks=element_line(),
panel.grid.minor=element_blank(),
panel.background=element_blank(),
axis.title = element_text(size=10,family="Century Gothic"),
axis.text.y = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.text.x = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.title.x = element_text(size=14,vjust=-0.5),
axis.title.y = element_text(size=14,vjust=0.8),
title = element_text(color="black",size=12),
legend.text = element_text(size=8,family="Century Gothic"),
legend.title = element_text(size=12,family="Century Gothic"))
G
G<-ggplot(data=df,aes(x=size,y=growth)) +
geom_point(aes(colour=Site))+
geom_smooth(aes(colour=Site),alpha=0.1,method='lm')+
labs(x="log(Colony Size)",y="log(Colony Growth)")+
theme(axis.line.x=element_line(color="black",size=1),
axis.line.y=element_line(color="black",size=1),
axis.ticks=element_line(),
panel.grid.minor=element_blank(),
panel.background=element_blank(),
axis.title = element_text(size=10,family="Century Gothic"),
axis.text.y = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.text.x = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.title.x = element_text(size=14,vjust=-0.5),
axis.title.y = element_text(size=14,vjust=0.8),
title = element_text(color="black",size=12),
legend.text = element_text(size=8,family="Century Gothic"),
legend.title = element_text(size=12,family="Century Gothic"))
G
G<-ggplot(data=df,aes(x=size,y=growth)) +
geom_point(aes(colour=Site))+
geom_smooth(aes(colour=Site),alpha=0.2,method='lm')+
labs(x="log(Colony Size)",y="log(Colony Growth)")+
theme(axis.line.x=element_line(color="black",size=1),
axis.line.y=element_line(color="black",size=1),
axis.ticks=element_line(),
panel.grid.minor=element_blank(),
panel.background=element_blank(),
axis.title = element_text(size=10,family="Century Gothic"),
axis.text.y = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.text.x = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.title.x = element_text(size=14,vjust=-0.5),
axis.title.y = element_text(size=14,vjust=0.8),
title = element_text(color="black",size=12),
legend.text = element_text(size=8,family="Century Gothic"),
legend.title = element_text(size=12,family="Century Gothic"))
G
G<-ggplot(data=df,aes(x=size,y=growth)) +
geom_point(aes(colour=Site))+
geom_smooth(aes(colour=Site),alpha=0.3,method='lm')+
labs(x="log(Colony Size)",y="log(Colony Growth)")+
theme(axis.line.x=element_line(color="black",size=1),
axis.line.y=element_line(color="black",size=1),
axis.ticks=element_line(),
panel.grid.minor=element_blank(),
panel.background=element_blank(),
axis.title = element_text(size=10,family="Century Gothic"),
axis.text.y = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.text.x = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.title.x = element_text(size=14,vjust=-0.5),
axis.title.y = element_text(size=14,vjust=0.8),
title = element_text(color="black",size=12),
legend.text = element_text(size=8,family="Century Gothic"),
legend.title = element_text(size=12,family="Century Gothic"))
G
#####################################################
###### Colony growth rates versus colony size #######
#####################################################
library(dplyr)
library(ggplot2)
library(foreach)
library(extrafont)
setwd("C:/Users/Grant/Dropbox/Transfer/")
A <- tbl_df(read.csv("AdelieBestTimeSeriesNests.csv"))
siteList <- unique(A$site)
df<-foreach(sname = siteList,.combine='rbind') %do% {
x <- A %>% filter(site == sname)
cat(as.character(sname),'\n')
fname = paste(sname,".jpg",sep="")
output <- foreach(j = x$season, .combine='rbind') %do% {
fI <- which(x$season == j)[1]
pairrow <- x[which(x$season == j-1),]
prindex <- pairrow[1,]
if(nrow(pairrow)>0){
colgrowth <- log(prindex$count/x$count[fI])
size <- log(x$count[fI])
return(c(colgrowth,size,as.character(sname)))
}
}
return(output)
}
df<-data.frame(df)
names(df)<-c("growth","size","Site")
df$growth<-as.double(as.character(df$growth))
df$size<-as.double(as.character(df$size))
G<-ggplot(data=df,aes(x=size,y=growth)) +
geom_point(aes(colour=Site))+
geom_smooth(aes(colour=Site),alpha=0.3,method='lm')+
labs(x="log(Colony Size)",y="log(Colony Growth)")+
theme(axis.line.x=element_line(color="black",size=1),
axis.line.y=element_line(color="black",size=1),
axis.ticks=element_line(),
panel.grid.minor=element_blank(),
panel.background=element_blank(),
axis.title = element_text(size=10,family="Century Gothic"),
axis.text.y = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.text.x = element_text(color="black",size=12,face = "bold",family="Century Gothic"),
axis.title.x = element_text(size=14,vjust=-0.5),
axis.title.y = element_text(size=14,vjust=0.8),
title = element_text(color="black",size=12),
legend.text = element_text(size=8,family="Century Gothic"),
legend.title = element_text(size=12,family="Century Gothic"))
G
#ggsave(fname,plot=G)
setwd("C:/LifeHistory/Lifehistory/")
X <- read.csv("Seabirds-edited.csv")
nList <- names(X)
count<-0
for(i in nList){
#msg <- paste("traits.",i,"=","row[",count,"]",sep="")
msg <- paste(i," character(50),",sep="")
print(msg)
count<-count+1
}
setwd("C:/LifeHistory/Lifehistory/")
X <- read.csv("species.csv")
nList <- names(X)
count<-0
for(i in nList){
#msg <- paste("traits.",i,"=","row[",count,"]",sep="")
msg <- paste(i," character(50),",sep="")
print(msg)
count<-count+1
}
setwd("C:/LifeHistory/Lifehistory/")
X <- read.csv("traits.csv")
nList <- names(X)
count<-0
for(i in nList){
#msg <- paste("traits.",i,"=","row[",count,"]",sep="")
msg <- paste(i," character(50),",sep="")
print(msg)
count<-count+1
}
setwd("C:/LifeHistory/Lifehistory/")
X <- read.csv("traits.csv")
nList <- names(X)
count<-0
for(i in nList){
#msg <- paste("traits.",i,"=","row[",count,"]",sep="")
msg <- paste(i," character(50),",sep="")
print(msg)
count<-count+1
}
Y <- read.csv("Fieldnames.csv")
Y <- read.csv("Fieldnames.csv")
vals <- list(Y$names)
vals
c(Y$names)
Y <- read.csv("Fieldnames.csv")
Z <- list()
count<-1
for(i in Y$names){
Z[count]<-as.character(i)
count<-count+1
}
Z
unlist(Z)
paste(Z,collapse=", ")
A <- paste(Z,collapse="', '")
A
Y <- read.csv("Fieldnames.csv")
Z <- list()
count<-1
for(i in Y$names){
Z[count]<-as.character(i)
count<-count+1
}
A <- paste(Z,collapse="', '")
A
B <- paste("Traits.objects.all().values('",A,"'",sep = '')
B
e^-((0.324337391399001^2)/2)
exp-((0.324337391399001^2)/2)
exp((0.324337391399001^2)/2)
exp(-(0.324337391399001^2)/2)
